<h2 id="1000" class="title"><span class="title-hide">
<svg xmlns="http://www.w3.org/2000/svg" 
width="24" height="24" viewBox="0 0 24 24" fill="none" 
stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="svg-icon right-triangle">
<path d="M3 8L12 17L21 8"></path>
</svg></span>声明<span class="title-lock">
<svg xmlns="http://www.w3.org/2000/svg" 
width="24" height="24" viewBox="0 0 24 24" fill="none" 
stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="svg-icon lucide-link">
<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
<path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
</svg></span></h2><p>螺旋式读法，参考网页 <https://c-faq.com/decl/spiral.anderson.html></p><p>There are three simple steps to follow:</p><p>1. Starting with the unknown element, move in a spiral/clockwise direction; when ecountering the following elements replace them with the corresponding english statements:</p><p>    </p><p>    [X] or []</p><p>    </p><p>    => Array X size of... or Array undefined size of...</p><p>    </p><p>    (type1, type2)</p><p>    </p><p>    => function passing type1 and type2 returning...</p><p>    </p><p>    <span class="italic"></span>    </p><p>    => pointer(s) to...</p><p>    </p><p>2. Keep doing this in a spiral/clockwise direction until all tokens have been covered.</p><p>    </p><p>3. Always resolve anything in parenthesis first!</p><h3 id="1001" class="title"><span class="title-hide">
<svg xmlns="http://www.w3.org/2000/svg" 
width="24" height="24" viewBox="0 0 24 24" fill="none" 
stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="svg-icon right-triangle">
<path d="M3 8L12 17L21 8"></path>
</svg></span>Example #1: Simple declaration<span class="title-lock">
<svg xmlns="http://www.w3.org/2000/svg" 
width="24" height="24" viewBox="0 0 24 24" fill="none" 
stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="svg-icon lucide-link">
<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
<path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
</svg></span></h3><p>                     +</p><div class="divider"></div><p>                     | +-+   |</p><p>                     | ^ |   |</p><p>                char </p><p>str[10];</p><p>                 ^   ^   |   |</p><p>                 |   +</p><div class="divider"></div><p>                 +</p><div class="divider"></div><p>Question we ask ourselves: What is str?</p><p>> <span class="inline-code">str is an...</span></p><ul><li>We move in a spiral clockwise direction starting with <span class="inline-code">str</span> and the first character we see is a <span class="inline-code">[</span> so, that means we have an array, so...</li></ul><p>    </p><p>> <span class="inline-code">str is an array 10 of...</span></p><p>    </p><ul><li>Continue in a spiral clockwise direction, and the next thing we encounter is the <span class="inline-code"><span class="italic"></span> so, that means we have pointers, so...</span>    </li></ul><p>> <span class="inline-code">str is an array 10 of pointers to...</span></p><p>    </p><ul><li>Continue in a spiral direction and we see the end of the line (the <span class="inline-code">;</span>), so keep going and we get to the type <span class="inline-code">char</span>, so...</li></ul><p>    </p><p>> <span class="inline-code">str is an array 10 of pointers to char</span></p><p>    </p><ul><li>We have now visited every token; therefore we are done!</li></ul><h3 id="1002" class="title"><span class="title-hide">
<svg xmlns="http://www.w3.org/2000/svg" 
width="24" height="24" viewBox="0 0 24 24" fill="none" 
stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="svg-icon right-triangle">
<path d="M3 8L12 17L21 8"></path>
</svg></span>Example #2: Pointer to Function declaration<span class="title-lock">
<svg xmlns="http://www.w3.org/2000/svg" 
width="24" height="24" viewBox="0 0 24 24" fill="none" 
stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="svg-icon lucide-link">
<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
<path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
</svg></span></h3><p>                     +</p><div class="divider"></div><p>                     | +</p><div class="divider"></div><p>                     | |+-+|              |</p><p>                     | |^ ||              |</p><p>                char </p><p>(<span class="italic">fp)( int, float </span>);</p><p>                 ^   ^ ^  ||              |</p><p>                 |   | +--+|              |</p><p>                 |   +</p><div class="divider"></div><p>                 +</p><div class="divider"></div><p>Question we ask ourselves: What is fp?</p><p>> <span class="inline-code">fp is a...</span></p><ul><li>Moving in a spiral clockwise direction, the first thing we see is a <span class="inline-code">)</span>; therefore, fp is inside parenthesis, so we continue the spiral inside the parenthesis and the next character seen is the <span class="inline-code"><span class="italic"></span>, so...</span>    </li></ul><p>> <span class="inline-code">fp is a pointer to...</span></p><p>    </p><ul><li>We are now out of the parenthesis and continuing in a spiral clockwise direction, we see the <span class="inline-code">(</span>; therefore, we have a function, so...</li></ul><p>    </p><p>> <span class="inline-code">fp is a pointer to a function passing an int and a pointer to float returning...</span></p><p>    </p><ul><li>Continuing in a spiral fashion, we then see the <span class="inline-code"></span></li></ul><p> character, so...</p><p>    </p><p>> <span class="inline-code">fp is a pointer to a function passing an int and a pointer to float returning a pointer to...</span></p><p>    </p><ul><li>Continuing in a spiral fashion we see the <span class="inline-code">;</span>, but we haven't visited all tokens, so we continue and finally get to the type <span class="inline-code">char</span>, so...</li></ul><p>    </p><p>> <span class="inline-code">fp is a pointer to a function passing an int and a pointer to float returning a pointer to a char</span></p><p>    </p><h3 id="1003" class="title"><span class="title-hide">
<svg xmlns="http://www.w3.org/2000/svg" 
width="24" height="24" viewBox="0 0 24 24" fill="none" 
stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="svg-icon right-triangle">
<path d="M3 8L12 17L21 8"></path>
</svg></span>Example #3: The <span class="inline-code">Ultimate</span><span class="title-lock">
<svg xmlns="http://www.w3.org/2000/svg" 
width="24" height="24" viewBox="0 0 24 24" fill="none" 
stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="svg-icon lucide-link">
<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
<path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
</svg></span></h3><p>                      +</p><div class="divider"></div><p>                      |                  +</p><div class="divider"></div><p>                      |  +</p><div class="divider"></div><p>                      |  ^   |           |^ ||      |</p><p>                void (<span class="italic">signal(int, void (</span>fp)(int)))(int);</p><p>                 ^    ^      |      ^    ^  ||      |</p><p>                 |    +</p><div class="divider"></div><p>                 |                  +</p><div class="divider"></div><p>                 +</p><div class="divider"></div><p>Question we ask ourselves: What is <span class="inline-code">signal</span>?</p><p>Notice that signal is _inside_ parenthesis, so we must resolve this first!</p><ul><li>Moving in a _clockwise_ direction we see <span class="inline-code">(</span> so we have...</li></ul><p>    </p><p>> <span class="inline-code">signal is a function passing an int and a...</span></p><p>    </p><ul><li>Hmmm, we can use this same rule on <span class="inline-code">fp</span>, so... What is fp? fp is also inside parenthesis so continuing we see an <span class="inline-code"><span class="italic"></span>, so...</span>    </li></ul><p>> <span class="inline-code">fp is a pointer to...</span></p><p>    </p><ul><li>Continue in a spiral clockwise direction and we get to <span class="inline-code">(</span>, so...</li></ul><p>    </p><p>> <span class="inline-code">fp is a pointer to a function passing int returning...</span></p><p>    </p><ul><li>Now we continue out of the function parenthesis and we see void, so...</li></ul><p>    </p><p>> <span class="inline-code">fp is a pointer to a function passing int returning nothing (void)</span></p><p>    </p><ul><li>We have finished with fp so let's catch up with <span class="inline-code">signal</span>, we now have...</li></ul><p>    </p><p>> <span class="inline-code">signal is a function passing an int and a pointer to a function passing an int returning nothing (void) returning...</span></p><p>    </p><ul><li>We are still inside parenthesis so the next character seen is a <span class="inline-code"></span></li></ul><p>, so...</p><p>    </p><p>> <span class="inline-code">signal is a function passing an int and a pointer to a function passing an int returning nothing (void) returning a pointer to...</span></p><p>    </p><ul><li>We have now resolved the items within parenthesis, so continuing clockwise, we then see another <span class="inline-code">(</span>, so...</li></ul><p>    </p><p>> <span class="inline-code">signal is a function passing an int and a pointer to a function passing an int returning nothing (void) returning a pointer to a function passing an int returning...</span></p><p>    </p><ul><li>_Finally_ we continue and the only thing left is the word <span class="inline-code">void</span>, so the final complete definition for signal is:</li></ul><p>    </p><p>> <span class="inline-code">signal is a function passing an int and a pointer to a function passing an int returning nothing (void) returning a pointer to a function passing an int returning nothing (void)</span></p><p>    </p><p>The same rule is applied for const and volatile. For Example:</p><p>	const char <span class="italic">chptr;</span></p><ul><li>Now, what is chptr??</li></ul><p>    </p><p>> <span class="inline-code">chptr is a pointer to a char constant</span></p><p>    </p><p>How about this one:</p><p>	char </p><p> const chptr;</p><ul><li>Now, what is chptr??</li></ul><p>    </p><p>> <span class="inline-code">chptr is a constant pointer to char</span></p><p>    </p><p>Finally:</p><p>	volatile char <span class="italic"> const chptr;</span></p><ul><li>Now, what is chptr??</li></ul><p>    </p><p>> <span class="inline-code">chptr is a constant pointer to a char volatile.</span></p><p>    </p><div class="divider"></div>